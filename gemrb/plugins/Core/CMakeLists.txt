IF(WIN32)
 ADD_DEFINITIONS(-DGEM_BUILD_DLL)
ENDIF(WIN32)

SET(gemrb_core_LIB_SRCS
   Actions.cpp
   Console.cpp
   DataFileMgr.cpp
   EventMgr.cpp
   Game.cpp
   GameControl.cpp
   GameScript.cpp
   GSUtils.cpp
   GlobalTimer.cpp
   MusicMgr.cpp
   Polygon.cpp
   Progressbar.cpp
   SaveGameIterator.cpp
   ScriptEngine.cpp
   ScriptedAnimation.cpp
   ScrollBar.cpp
   SoundMgr.cpp
   TableMgr.cpp
   TextEdit.cpp
   Triggers.cpp
   Variables.cpp
   TextArea.cpp
   Slider.cpp
   Label.cpp
   WindowMgr.cpp
   Window.cpp
   VideoModes.cpp
   VideoMode.cpp
   Video.cpp
   VFS.cpp
   TileSetMgr.cpp
   TileOverlay.cpp
   TileMapMgr.cpp
   TileMap.cpp
   Tile.cpp
   WorldMap.cpp
   WorldMapMgr.cpp
   SymbolMgr.cpp
   StringMgr.cpp
   Sprite2D.cpp
   ResourceMgr.cpp
   Region.cpp
   PluginMgr.cpp
   Plugin.cpp
   MoviePlayer.cpp
   MemoryStream.cpp
   MapMgr.cpp
   Map.cpp
   InterfaceDesc.cpp
   Interface.cpp
   ImageMgr.cpp
   ImageFactory.cpp
   Font.cpp
   FileStream.cpp
   FactoryObject.cpp
   Factory.cpp
   DataStream.cpp
   Core.cpp
   Control.cpp
   Compressor.cpp
   Class_ID.cpp
   ClassDesc.cpp
   CharAnimations.cpp
   CachedFileStream.cpp
   Button.cpp
   ArchiveImporter.cpp
   AnimationMgr.cpp
   AnimationFactory.cpp
   Animation.cpp
   ActorMgr.cpp
   Actor.cpp
   ActorBlock.cpp
   SaveGameMgr.cpp
   DialogMgr.cpp
   Dialog.cpp
   SpellMgr.cpp
   Spell.cpp
   ItemMgr.cpp
   Item.cpp
   StoreMgr.cpp
   Store.cpp
   Inventory.cpp
   Spellbook.cpp
   Ambient.cpp
   WorldMapControl.cpp
   MapControl.cpp
   AmbientMgr.cpp
   EffectQueue.cpp
   Cache.cpp
   ControlAnimation.cpp
   EffectMgr.cpp
   OpcodeMgr.cpp
   SpriteCover.cpp
   PCStatStruct.cpp
   Palette.cpp
   ProjectileMgr.cpp
   Projectile.cpp
   ProjectileServer.cpp
   Particles.cpp
   IniSpawn.cpp
   LRUCache.cpp
   )

ADD_LIBRARY(gemrb_core SHARED ${gemrb_core_LIB_SRCS} )

INSTALL( TARGETS gemrb_core RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX} )
