# $Id$


How to make a release
*********************

Preparing and testing SVN
=========================

* Make sure that version numbers in 
    configure.in
    gemrb/includes/globals.h 
  are correct for the upcoming version.

* Update NEWS with highlights since the last release 

* Make sure that GemRB SVN is in compilable and runnable state
  - download a clean SVN tree and test it.
  - Make distribution .tar.gz  (make dist) and test it as well -
    especially make sure all needed files are included.

* Tag current SVN to version number e.g. GEMRB_0_3_0
  i.e. in the gemrb root directory do
    svn cp https://gemrb.svn.sourceforge.net/svnroot/gemrb/gemrb/trunk \
  https://gemrb.svn.sourceforge.net/svnroot/gemrb/gemrb/tags/GEMRB_0_3_0

* Update from SVN to the tagged version


Source release
==============

* on Unix/Linux: 
  sed -i 's,-Werror,,' configure.in
  ./autogen.sh
  make dist


Linux binary release
====================

  ./autogen.sh
  ./configure --prefix=/usr/local
  make
  make install DESTDIR=/tmp/fakeroot
  cd /tmp/fakeroot/usr/local
  copy ~/GemRB-binary.cfg over etc/GemRB.cfg, rename to etc/gemrb.cfg
  strip bin/gemrb lib/* lib/gemrb/*
  sudo chown -R 0:0 *
  sudo tar cvzf ../gemrb-0.2.5-linux_i386.tar.gz *


Windows binary release
======================

* FIXME: To be defined....


Release and Announcements
=========================

* Put the tarballs/binaries into Releases on SF
  Source pkg details:
    Release name: GemRB 0.2.5 Sources
    File name: gemrb-0.2.5.tar.gz
    Processor: platform-independent ; Type: Source .gz

  Binary pkg details: 
    Release name: GemRB 0.2.5 Linux/i386
    File name: gemrb-0.2.5-linux_i386.tar.gz
    Processor: i386 ; Type:

* Test the downloads from sourceforge.net

* Announce on homepage, SF, #GemRB in channel and title, Gibberlings3, Happypenguin

* Possibly announce on Freshmeat (only balrog has the account?)
