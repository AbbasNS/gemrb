# $Id$


How to make a release
*********************

Preparing and testing GIT
=========================

* Make sure that version numbers in 
    configure.in
    gemrb/includes/globals.h 
  are correct for the upcoming version.

* Update NEWS with highlights since the last release 

* Make sure that GemRB GIT is in compilable and runnable state
  - download a clean GIT tree and test it.
  - Make distribution .tar.gz (see Source release below) and test it as well -
    especially make sure all needed files are included.

* Tag current GIT to version number e.g. GEMRB_0_9_0
  i.e. in the gemrb root directory do
    git tag -a -m "GemRB 0.9.0" GEMRB_0_9_0
* Update from GIT to the tagged version
    git checkout GEMRB_0_9_0

Source release
==============

* on Unix/Linux: 
  sed -i 's,-Werror,,' configure.in
  ./autogen.sh
  make dist


Linux binary release
====================

  ./autogen.sh
  ./configure --prefix=/usr/local
  make
  make install DESTDIR=/tmp/fakeroot
  cd /tmp/fakeroot/usr/local
  copy ~/GemRB-binary.cfg over etc/GemRB.cfg, rename to etc/gemrb.cfg
  strip bin/gemrb lib/* lib/gemrb/*
  sudo chown -R 0:0 *
  sudo tar cvzf ../gemrb-0.2.5-linux_i386.tar.gz *


Windows binary release
======================

* FIXME: To be defined....


Release and Announcements
=========================

* Put the tarballs/binaries into Releases on SF
  - create a new directory in the appropriate section by rightclicking
  - mark it for upload
  - upload the release notes
  - upload the file
  - mark the release notes as release notes (popup on leftclick)
  - mark the file to have the release notes and default platforms (popup on leftclick)

* Test the downloads from sourceforge.net

* Announce on homepage, SF, #GemRB in channel and title, Gibberlings3, Happypenguin

* Run admin/restart_news.sh to restart the NEWS cycle
