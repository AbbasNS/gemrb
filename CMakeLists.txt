cmake_minimum_required(VERSION 2.4.4)
PROJECT(GemRB)

IF( NOT PLUGIN_INSTALL_DIR )
 SET( PLUGIN_INSTALL_DIR ${CMAKE_INSTALL_PREFIX}/Plugins )
ENDIF( NOT PLUGIN_INSTALL_DIR )

IF( NOT OVERRIDE_INSTALL_DIR )
 SET( OVERRIDE_INSTALL_DIR ${CMAKE_INSTALL_PREFIX}/override )
ENDIF( NOT OVERRIDE_INSTALL_DIR )

IF( NOT GUISCRIPTS_INSTALL_DIR )
 SET( GUISCRIPTS_INSTALL_DIR ${CMAKE_INSTALL_PREFIX}/GUIScripts )
ENDIF( NOT GUISCRIPTS_INSTALL_DIR )

INCLUDE(FindOpenAL)
IF(OPENAL_FOUND)
 MESSAGE(STATUS "openal found")
ELSE(OPENAL_FOUND)
 MESSAGE(FATAL_ERROR "unable to find openal. please set OPENALDIR environment variable or get it from www.openal.org")
ENDIF(OPENAL_FOUND)

MESSAGE(STATUS "Looking for SDL")
INCLUDE(FindSDL)
IF(SDL_FOUND)
 MESSAGE(STATUS "SDL found")
ELSE(SDL_FOUND)
 MESSAGE(FATAL_ERROR "unable to find SDL. please get it from www.libsdl.org")
ENDIF(SDL_FOUND)

MESSAGE( STATUS "Looking for Zlib" )
#SET(ZLIB_FIND_REQUIRED TRUE)
INCLUDE(FindZLIB)

MESSAGE( STATUS "Looking for libPNG" )
INCLUDE(FindPNG)
IF(PNG_FOUND)
 MESSAGE( STATUS "libPNG found" )
ELSE(PNG_FOUND)
 MESSAGE( STATUS "WARNING : GemRB will be built without any PNG support. Get it from www.libpng.org" )
ENDIF(PNG_FOUND)

ADD_SUBDIRECTORY( gemrb ) 
